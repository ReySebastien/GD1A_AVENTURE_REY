<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title> Zelda Like! </title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <script type="text/javascript" src="menu.js"></script>
    <script type="text/javascript" src="DebutJeu.js"></script>
    <script type="text/javascript" src="SceneGauche.js"></script>
    <script type="text/javascript" src="SceneHaut.js"></script>
    <script type="text/javascript" src="SceneDroite.js"></script>
    <script type="text/javascript" src="SceneBas.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var config = {
    type: Phaser.AUTO,
    width: 1920,
    height: 1080,
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: true}},
    scene: [Menu, DebutJeu, SceneGauche, SceneBas, SceneDroite, SceneHaut],
    input:{gamepad:true},
};
// VARIABLES
    
var paddle;
var paddleConnected=false;
var player;
var ennemi;
var cursors;
var invulnerabilite = false;
var vie = 3;
var gameOver = false;
var game = new Phaser.Game(config);

    
function preload ()
{
    this.load.image('perso_test', 'assets_test/perso_test.png');
}
    
function create ()
{
    cursors = this.input.keyboard.createCursorKeys();
    player.setCollideWorldBounds(true);
    
    this.scene.start("Menu")
    
}

function update ()
{
 
    
}

// AUTRES FONCTIONS
    
 function hitEnnemi(player, ennemi){
     
    if (!invulnerabilite){
        vie -= 1;
        invulnerabilite = true;
        
        if(vie > 0){
            clignotement = this.time.addEvent({ delay : 200, repeat: 9, callback: function(){player.visible = !player.visible;}, callbackScope: this});
        }
        
        tempsInvulnerabilite = this.time.addEvent({ delay : 2000, callback: function(){invulnerabilite = false}, callbackScope: this});
    }
     
     if(vie == 0){
        player.setTint(0xff0000);
        this.physics.pause();
        gameOver = true;
    }
 }
</script>

</body>
</html>